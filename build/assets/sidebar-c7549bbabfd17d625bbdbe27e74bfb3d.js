//# sourceMappingURL=sidebar.js.map
(function(d,a){var c=function(b,f){this.$sidebar=a(b);this.$body=a(document.body);this.$content=this.$body.find(".jsc-sidebar-content");this.sidebarW=this.$sidebar.width();this.opts=f;this.meta=this.$sidebar.data("sidebar-options")};c.prototype={defaults:{trigger:null,scrollbarDisplay:!1,pullCb:function(){},pushCb:function(){}},init:function(){this.config=a.extend({},this.defaults,this.opts,this.meta);this.$trigger=this.config.trigger?this.$body.find(this.config.trigger):this.$body.find(".jsc-sidebar-trigger");
this.detect3dEnabled();this.attachEvent();return this},pushTransitionEndEvent:"transitionEnd.push webkitTransitionEnd.push transitionend.push msTransitionEnd.push",pullTransitionEndEvent:"transitionEnd.pull webkitTransitionEnd.pull transitionend.pull msTransitionEnd.pull",isAndroid:function(){return-1<d.navigator.userAgent.toLowerCase().indexOf("android")},hasTranslate3dSupport:function(){var b=document.createElement("p"),a,c={transform:"transform",webkitTransform:"-webkit-transform",MozTransform:"-moz-transform",
msTransform:"-ms-transform"};this.$body[0].insertBefore(b,null);for(var e in c)void 0!==b.style[e]&&(b.style[e]="translate3d(1px, 1px, 1px)",a=d.getComputedStyle(b).getPropertyValue(c[e]));this.$body[0].removeChild(b);return void 0!==a&&a.length&&"none"!==a},detect3dEnabled:function(){!this.isAndroid()&&this.hasTranslate3dSupport()||this.$content.removeClass("jsc-sidebar-pulled")},attachEvent:function(){this.$trigger.on("click",a.proxy(function(a){a.preventDefault();this.push()},this));this.$content.on(this.pushTransitionEndEvent,
a.proxy(function(){this.detectPushEnd();this.config.pushCb()},this)).on("click",a.proxy(function(){this.pull()},this))},push:function(){this.isAndroid()||!this.hasTranslate3dSupport()?this.slidePush():this.$content.removeClass("jsc-sidebar-pull-end").addClass("jsc-sidebar-pushed")},pull:function(){this.isAndroid()||!this.hasTranslate3dSupport()?this.slidePull():this.$content.hasClass("jsc-sidebar-push-end")&&this.$content.removeClass("jsc-sidebar-pushed")},slidePull:function(){1===this.$content.data("sidebar-first-click")&&
this.$content.hasClass("jsc-sidebar-opened")&&this.$content.stop().animate({marginLeft:0}).promise().done(a.proxy(function(){this.$content.removeClass("jsc-sidebar-opened");!this.config.scrollbarDisplay&&this.$content.removeClass("jsc-sidebar-scroll-disabled");this.config.pullCb()},this))},slidePush:function(){var b=this.sidebarW+"px";this.$content.stop().animate({marginLeft:b}).promise().done(a.proxy(function(){this.$content.addClass("jsc-sidebar-opened");!this.config.scrollbarDisplay&&this.$content.addClass("jsc-sidebar-scroll-disabled");
this.$content.data("sidebar-first-click")||this.$content.data("sidebar-first-click",1);this.config.pushCb()},this))},detectPushEnd:function(){this.$content.addClass("jsc-sidebar-opened");!this.config.scrollbarDisplay&&this.$content.addClass("jsc-sidebar-scroll-disabled");this.$content.addClass("jsc-sidebar-push-end").off(this.pushTransitionEndEvent).on(this.pullTransitionEndEvent,a.proxy(function(){this.detectPullEnd();this.config.pullCb()},this))},detectPullEnd:function(){this.$content.removeClass("jsc-sidebar-disabled");
!this.config.scrollbarDisplay&&this.$content.removeClass("jsc-sidebar-scroll-disabled");this.$content.removeClass("jsc-sidebar-push-end").addClass("jsc-sidebar-pull-end").off(this.pullTransitionEndEvent).on(this.pushTransitionEndEvent,a.proxy(function(){this.detectPushEnd();this.config.pushCb()},this))}};c.defaults=c.prototype.defaults;a.fn.sidebar=function(a){return this.each(function(){(new c(this,a)).init()})};d.Sidebar=c})(window,jQuery);